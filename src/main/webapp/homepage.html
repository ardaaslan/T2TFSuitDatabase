<!DOCTYPE html>
<html>
    <head>
        <title>Welcome to T2TF</title>
        <meta name= "viewport" content="width=device-width, initial-scale=1.0">
        <link href = "css/bootstrap.min.css" rel = "stylesheet">
        <link href = "css/homepage.css" rel="stylesheet">
  <!----------------------------------------SCRIPTS---------------------------------------------------------->   
        

 
        
            

        
<!--------------------------------------------------------------------------------------------------------------------------->
    </head>
    <body onload ="onLoad()">
        <!--<applet id="app"
        code="T2TFProject.class" 
                >
        </applet>
        <applet id="app2"
        code="UserService.class" 
                >
        </applet>
        <!-- Beginning of navigation bar-->

        <div class = "navbar navbar-default navbar-static-top">
            <div class = "container">


                <button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
                    <span class = "icon-bar"></span>
                    <span class = "icon-bar"></span>
                    <span class = "icon-bar"></span>
                </button>

                <div class = "collapse navbar-collapse navHeaderCollapse">

                    <ul class = "nav navbar-nav navbar-left">
                        <li><a href="javascript:makeAccordionVisible(); ">Projects</a></li>
                    </ul>

                    <ul class = "nav navbar-nav navbar-right">

                        <li class = "active"><a href = "javascript:makeAccordionHidden();">Home</a></li>
                        <li><a href = "#">About</a></li>
                        <li><a href = "#">Contact</a></li>
                        <li><a href = "/Login">Logout</a></li>
                    </ul>

                </div>

            </div>
        </div>

        <!-- End of navigation bar-->

        <!-- Beginning of accordion-->

        <div class="panel-group" id="accordion">


            <!-- Beginning of create a project -->
          <!--  <div class="panel panel-default">
               <!-- <div class="panel-heading">
                    <h4 class="panel-title" id="project1">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr1testsuites">
                            Project 1
                        </a>
                    </h4>
                </div>-->

                <!-- Beginning of create a test suite-->
                <!--<div id="pr1testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 2
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>-->
                <!-- End of create a test suite-->
            <!--</div>
            <!-- End of create a project-->
           <!-- <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title" id="project2">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr2testsuites">
                            Project 2
                        </a>
                    </h4>
                </div>
                <div id="pr2testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>
            </div>-->
            <!--<div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title" id="project3">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr3testsuites">Project 3</a>
                    </h4>
                </div>
                <div id="pr3testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>
            </div>-->
            
            
            <form method = "post" class="form-signin" id="createProject" onClick="createProjectPrompt()" role="form">
                <input type="submit" style="background-color:gray" class="btn btn-lg btn-primary btn-block" value="Create Project">  



            </form>
        </div>

        <!-- End of accordion-->

        <!-- Beginning of the Project and Test Suite Grid-->
        <span class="label pull-right" style="color:black;" id="testsuitelabel">
        </span>
        <div class="well pull-right" id="testsuitegrid">
            <div class="well pull-right" id="testcasegrid">
                <div class="well pull-right" id="realtestcasegrid">
            </div>
                <button type="button" class="btn btn-lg btn-default pull-right" id="addTestCaseBttn">Add a Test Case</button>
                <br/>
                <br/>
                <button type="button" class="btn btn-lg btn-default pull-right" id="deleteTestCaseBttn">Delete a Test Case</button>
                <br/>
                <br/>
                <button type="button" class="btn btn-lg btn-default pull-right" id="runTestCaseBttn">Run a Test Case</button>
            </div>


            <div id="testsuitegridbttns">
                <button type="button" class="btn btn-lg btn-default" id="runTestSuiteBttn">Run as Test Suite</button>
                <button type="button" class="btn btn-lg btn-default" id="runProjectBttn">Run as Project</button>
                <button type="button" class="btn btn-lg btn-default" id="updateProjectBttn">Update Project</button>
                <button type="button" class="btn btn-lg btn-default" id="deleteProjectBttn">Delete ProjectX</button>
                
            </div>
        </div>
        
        <div id="openModalProject" class="modalDialog">
	<div>
		<h2>Create Project</h2>
		 <form id = "modalProjectId">
            <fieldset>
                <p>
                    <label for="projectname">Project Name</label><br/>
                    <input type="text" name="projectname" id="modalProjectName" placeholder="">
                </p>
                <p>
                    <label for="description">Description</label><br/>
                    <input type="text" name="description" id="modalDescription"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmProject()" id="confirmBttn">Confirm</button>
        </form>
	</div>
</div>
        
        <div id="openModalTestSuite" class="modalDialog">
	<div>
		<h2>Create Test Suite</h2>
		 <form id = "modalTestSuiteId">
            <fieldset>
                <p>
                    <label for="testsuitename">Test Suite Name</label><br/>
                    <input type="text" name="testsuitename" id="modalTestSuiteName" placeholder="">
                </p>
                <p>
                    <label for="description">Description</label><br/>
                    <input type="text" name="description" id="modal1Description"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmTestSuite()" id="confirm1Bttn">Confirm</button>
        </form>
	</div>
</div>
        
                <div id="openModalUpdateProject" class="modalDialog">
	<div>
		<h2>Update Project</h2>
		 <form id = "modalUpdateProject">
            <fieldset>
                <p>
                    <label for="updateprojectname">New Project Name</label><br/>
                    <input type="text" name="updateprojectname" id="modalUpdateProjectName" placeholder="">
                </p>
                <p>
                    <label for="updatedescription">New Description</label><br/>
                    <input type="text" name="updatedescription" id="modal2Description"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmUpdateProject()" id="confirm2Bttn">Confirm</button>
        </form>
	</div>
</div>
        
            <div id="openModalUpdateTestSuite" class="modalDialog">
	<div>
		<h2>Update Test Suite</h2>
		 <form id = "modalUpdateTestSuite">
            <fieldset>
                <p>
                    <label for="updatetestsuitename">New Test Suite Name</label><br/>
                    <input type="text" name="updatetestsuitename" id="modalUpdateTestSuiteName" placeholder="">
                </p>
                <p>
                    <label for="update1description">New Description</label><br/>
                    <input type="text" name="update1description" id="modal3Description"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmUpdateTestSuite()" id="confirm3Bttn">Confirm</button>
        </form>
	</div>
</div>
        
        
        
        
        <div id="openModalTestCase" class="modalDialog">
	<div>
		<h2>Create Test Case</h2>
		 <form id = "modalTestCaseId">
            <fieldset>
                <p>
                    <label for="testcasename">Test Case Name</label><br/>
                    <input type="text" name="testcasename" id="modalTestCaseName" placeholder="">
                </p>
                <p>
                    <label for="update2description">Description</label><br/>
                    <input type="text" name="update2description" id="modal4Description"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmCreateTestCase()" id="confirm4Bttn">Confirm</button>
        </form>
	</div>
</div>
        
         <div id="openModalUpdateTestCase" class="modalDialog">
	<div>
		<h2>Update Test Case</h2>
		 <form id = "modalUpdateTestCase">
            <fieldset>
                <p>
                    <label for="newtestcasename">New Test Case Name</label><br/>
                    <input type="text" name="newtestcasename" id="modalUpdateTestCaseName" placeholder="">
                </p>
                <p>
                    <label for="update3description">New Description</label><br/>
                    <input type="text" name="update3description" id="modal5Description"  placeholder="">
                </p>
    
            </fieldset>
                     <button type="button" class="btn btn-lg btn-default pull-right" onClick="confirmUpdateTestCase()" id="confirm5Bttn">Confirm</button>
        </form>
	</div>
</div>
        
        <div id="modalTestCaseVariable" class="modalDialog">
	<div>
		<h2>Update Project</h2>
		 <form id = "modalTestCaseVariableId">
            <fieldset>
                <p>
                    <label for="vartestcasename">New Project Name</label><br/>
                    <input type="text" name="vartestcasename" id="modalTestCaseVariableName" placeholder="">
                </p>
                <p>
                    <label for="vardescription">New Description</label><br/>
                    <input type="text" name="vardescription" id="modalVarDescription"  placeholder="">
                </p>
    
            </fieldset>
                    
        </form>
	</div>
</div>

        <!-- End of the Project and Test Suite Grid-->
            <script type="text/javascript">
            var databaseErrorFlag = 1;
            var updateProjectFlag = 1;
            var globalUserName;
            var firstEntrance = 1;
            
        </script>
        
        <script>
            function onLoad() {
                if(firstEntrance < 3)
                {
                var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
            if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            globalUserName = userName;
            firstEntrance = 5;
                }
             else{
                 var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
            if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
                 if(globalUserName != userName)
                 {
                     window.location += "?username="+globalUserName;
                     console.log(window.location.toString());
                     userName = globalUserName;
                 }
             }
             console.log(globalUserName);
            var values = [];
            var values1 = [];
            var values2 = [];
            
            $.ajax({
        type: "POST",
        dataType: "JSON",
        url: "OnLoadServlet",
        data: {
                   userInfo : JSON.stringify({ 
                        userName   :userName,
                        password : "harr"
                    })
               },
        success: function(data) {          
                values = data;
                $.each(values, function( index, value ) {
                     var form_elements = $("#modalProjectId").find(":input");
                    form_elements[0].value = values[index]['projectName'];
                    databaseErrorFlag = 1;
                    addProjectToAccordion();
                    databaseErrorFlag = 5;
                    $.ajax({
                        type: "POST",
                        dataType: "JSON",
                        url: "OnLoadTestSuiteServlet",
                        data: {
                                   projectInfo : JSON.stringify({ 
                                        userName   :userName,
                                        projectName : values[index]['projectName']
                                        
                                    })
                               },
                        success: function(data1) {

                                values1 = data1;
                                $.each(values1, function( index1, value1 ) {
                                     var form_elements = $("#modalProjectId").find(":input");
                                    form_elements[0].value = values[index]['projectName'];
                                     var form_elements1 = $("#modalTestSuiteId").find(":input");
                                    form_elements1[0].value = values1[index1]['testSuiteName'];
                                     databaseErrorFlag = 1;
                                    createTestSuitePrompt();
                                     databaseErrorFlag = 5;
                                   /* $.ajax({
                                        type: "POST",
                                        dataType: "JSON",
                                        url: "OnLoadTestCaseServlet",
                                        data: {
                                                   testSuiteInfo : JSON.stringify({ 
                                                        userName   :userName,
                                                        projectName : values[index]['projectName'],
                                                        testSuiteName : values1[index1]['testSuiteName']

                                                    })
                                               },
                                        success: function(data2) {

                                                values2 = data2;
                                                $.each(values2, function( index2, value2 ) {
                                                     var form_elements = $("#modalProjectId").find(":input");
                                                    form_elements[0].value = values[index]['projectName'];
                                                     var form_elements1 = $("#modalTestSuiteId").find(":input");
                                                    form_elements1[0].value = values1[index1]['testSuiteName'];
                                                    var form_elements2 = $("#modalTestCaseId").find(":input");
                                                    form_elements2[0].value = values2[index2]['testCaseName'];
                                                    createTestCase();

                                                });
                                            }

                                    });*/

                                });
                            }

                    });
                });
            }
 
    });
 
}
            
            
        </script>
     
        <script type="text/javascript">
            function makeAccordionVisible() {
                document.getElementById("accordion").style.visibility = "visible";
                
                
               // document.getElementById("testsuitegrid").style.visibility = "visible";
             //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script type="text/javascript">
            function makeAccordionHidden() {
                 document.getElementById("accordion").style.visibility = "hidden";
                
     
              document.getElementById("testsuitegrid").style.visibility = "hidden";
              document.getElementById("testsuitelabel").style.visibility = "hidden";
              document.getElementById("testcasegrid").style.visibility = "hidden";
               document.getElementById("testsuitegridbttns").style.visibility = "hidden";
            
            }
        </script>
     <script type="text/javascript">
            function confirmUpdateProject() {
                document.getElementById("openModalUpdateProject").style.visibility = "hidden";
                updateProject();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>   
        
        <script type="text/javascript">
            function confirmUpdateTestCase() {
                document.getElementById("openModalUpdateTestCase").style.visibility = "hidden";
                updateTestCase();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>   
        
     <script type="text/javascript">
            function confirmUpdateTestSuite() {
                document.getElementById("openModalUpdateTestSuite").style.visibility = "hidden";
                updateTestSuite();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script type="text/javascript">
            function confirmCreateTestCase() {
                document.getElementById("openModalTestCase").style.visibility = "hidden";
                createTestCase();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>   
        
<script type="text/javascript">
            function confirmProject() {
                document.getElementById("openModalProject").style.visibility = "hidden";
                addProjectToAccordion();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
  <script type="text/javascript">
            function confirmTestSuite() {
                document.getElementById("openModalTestSuite").style.visibility = "hidden";
                createTestSuitePrompt();
               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
  <script type="text/javascript">
            function createModalTestSuite() {
                document.getElementById("openModalTestSuite").style.visibility = "visible";
                var form_elements = $("#modalTestSuiteId").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script type="text/javascript">
            function createUpdateModalTestSuite() {
                document.getElementById("openModalUpdateTestSuite").style.visibility = "visible";
                var form_elements = $("#modalUpdateTestSuite").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
         <script type="text/javascript">
            function createUpdateModalProject() {
                document.getElementById("openModalUpdateProject").style.visibility = "visible";
                var form_elements = $("#modalUpdateProject").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script type="text/javascript">
            function createUpdateModalProject() {
                document.getElementById("openModalUpdateProject").style.visibility = "visible";
                var form_elements = $("#modalUpdateProject").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        <script type="text/javascript">
            function createModalTestCase() {
                document.getElementById("openModalTestCase").style.visibility = "visible";
                var form_elements = $("#modalTestCaseId").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        <script type="text/javascript">
            function updateModalTestCase() {
                document.getElementById("openModalUpdateTestCase").style.visibility = "visible";
                var form_elements = $("#modalUpdateTestCase").find(":input");
                    form_elements[0].value = "";
                    form_elements[1].value = "";


               // document.getElementById("testsuitegrid").style.visibility = "visible";
               //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
    <script>
            function runTestSuite() {
            
            
            $.ajax({ 
                url : "RunTestSuite",
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("calisti");
                }     
            }); 
    }
        </script>
        
        
     <script>
            function addProjectToAccordion() {
            //var projectName = $("#openModalProject").attr;
            var form_elements = $("#modalProjectId").find(":input");
            var projectName = form_elements[0].value;
            var argumentToPass = projectName + "suites";   // bu lazım *** 
            var strVar="";
                strVar += " <div class=\"panel panel-default\" id=\""+projectName+"default\">";
                strVar += "                <div class=\"panel-heading\" id=\""+projectName+"heading\">";
                strVar += "                    <h4 class=\"panel-title\""+"onClick=\"showProject("+projectName+")\"" +" id=\""+projectName+"\">";
                strVar += "                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#"+projectName+"suites\">";
                strVar += "                            " + projectName;
                strVar += "                        <\/a>";
                strVar += "                    <\/h4>";
                strVar += "                <\/div>";
                strVar += "                <!-- Beginning of create a test suite-->";
                strVar += "                <div id=\""+projectName+"suites\" class=\"panel-collapse collapse\">";
                strVar += "                    <div class=\"panel-body\">";
                strVar += "                        <button type=\"button\""+ "onClick=\"createModalTestSuite()\"" +"class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
                strVar += "                    <\/div>";
                strVar += "                <\/div>";
                strVar += "                <!-- End of create a test suite-->";
                strVar += "            <\/div>";        
                  //$('#accordion').append(strVar).accordion('destroy').accordion();
                   //var project = document.getElementById("project1");
                    $("#accordion").prepend(strVar);
                    
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
            if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);   
        if(databaseErrorFlag > 3)
            {
            $.ajax({ 
                url : "CreateProject",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: projectName ,
                        userName   :userName
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log(data);
                }     
            }); 
        }
  
    }
        </script>
        
        <script>
                function createTestSuitePrompt() {
                    
                    
                    //PROJEctname = projectname+suites
        var form_elements = $("#modalTestSuiteId").find(":input");
        var testSuite = form_elements[0].value;
        var form_elements1 = $("#modalProjectId").find(":input");
        var ajaxProjectName = form_elements1[0].value;
         var argumentToPass = testSuite + "tests";
         //var realTestSuiteName = $(testSuite).attr('id');
         //var ajaxTestSuiteName = realTestSuiteName.substring(0,((realTestSuiteName.length)-5));
         //var realProjectName = $(projectName).attr('id');
         //var ajaxProjectName = realProjectName.substring(0,((realProjectName.length)-6));
        //ajaxporjectName orijinal ad , real suitesli hal
         if (testSuite != null) {
         var strVar="";
//strVar += " <div id=\""+testSuite+"\" class=\"panel-collapse collapse\">";
strVar += "                    <div id=\""+testSuite+"tests"+"\""+"onClick=\"showTestSuite("+argumentToPass+")\"" +" class=\"panel-body\">";
strVar += "                        <a href=\"#\" style=\"color:gray\">";
strVar += "                            " + testSuite;
strVar += "                        <\/a>";
strVar += "                    <\/div>";
//strVar += "                    <div class=\"panel-body\">";
//strVar += "                        <button type=\"button\" class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
//strVar += "                    <\/div>";
//strVar += "                <\/div>";
var toBeAdded = document.getElementById(ajaxProjectName+"suites");  
$(toBeAdded).prepend(strVar);
   
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
 
            if(databaseErrorFlag > 3)
            {
            $.ajax({ 
                url : "CreateTestSuite",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: ajaxProjectName ,
                        userName   :userName     ,
                        testSuiteName : testSuite
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
        
            }
      
        
        }
            }
        </script>
        
        <script>
                function createTestCase() {
                    //PROJEctname = projectname+suites
        var form_elements = $("#modalTestSuiteId").find(":input");
        var testSuite = form_elements[0].value;
        var form_elements1 = $("#modalProjectId").find(":input");
        var ajaxProjectName = form_elements1[0].value;
        var form_elements2 = $("#modalTestCaseId").find(":input");
        var ajaxTestCaseName = form_elements2[0].value;
        
   
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            var argumentToPass = ajaxTestCaseName+"testcase";
        $("#realtestcasegrid").prepend("<label onClick=\"currentTestCase("+argumentToPass+")\" id=\""+ajaxTestCaseName+"testcase"+"\"style=\"margin-top:-300px;\" >"+ajaxTestCaseName+" <\/label> <br\/>");

            $.ajax({ 
                url : "CreateTestCase",
                data: {
                    testCaseInfo : JSON.stringify({ 
                        projectName: ajaxProjectName ,
                        userName   :userName     ,
                        testSuiteName : testSuite,
                        testCaseName : ajaxTestCaseName
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
      //  TEST CASE ADI EKLEYİNCE BUTON KAYMASINI ENGELLİYORUZ
      /*  document.getElementById("addTestCaseBttn").style.position = "fixed";
        document.getElementById("deleteTestCaseBttn").style.position = "fixed";
        document.getElementById("updateTestCaseBttn").style.position = "fixed";
        document.getElementById("runTestCaseBttn").style.position = "fixed";*/
        
        
      
        
        }
            
        </script>
        
         <script>
            function currentTestCase(ajaxTestCaseName) {
            var realTestCaseName = $(ajaxTestCaseName).attr('id');
            var ajax2TestCaseName = realTestCaseName.substring(0,((realTestCaseName.length)-8));    
            var form_elements2 = $("#modalTestCaseId").find(":input");
            form_elements2[0].value = ajax2TestCaseName;
            
        //document.getElementById("")
            }
        </script>
        
        
        
        <script>
            function createProjectPrompt() {
                //var project = prompt("Please enter your project name");
            var form_elements = $("#modalProjectId").find(":input");
            form_elements[0].value = "";
            form_elements[1].value = "";
            document.getElementById("openModalProject").style.visibility = "visible";
                            document.getElementById("createProject").innerHTML =
                            document.getElementById("createProject").innerHTML;     
        /*  if (project != null) {
                    document.getElementById("createProject").innerHTML =
                            document.getElementById("createProject").innerHTML;
                   addProjectToAccordion(project);
                }*/
            }
        </script>
        
          <script>
            function showTestSuite(testSuite) {
            var realTestSuiteName;
            if((typeof testSuite) == 'string')
            {
                realTestSuiteName = testSuite;
            }
            else
            {
            realTestSuiteName = $(testSuite).attr('id');
            }
            var ajax2TestSuiteName = realTestSuiteName.substring(0,((realTestSuiteName.length)-5));  
            var form_elements = $("#modalProjectId").find(":input");
            var ajaxProjectName = form_elements[0].value;    
            var form_elements1 = $("#modalTestSuiteId").find(":input");
            form_elements1[0].value= ajax2TestSuiteName;
        var ajaxTestSuiteName = form_elements1[0].value;    
         var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            

              
       
        var strVar="";
strVar += "        <span class=\"label pull-right\" style=\"color:black;\" id=\"testsuitelabel\">";

strVar += "        <\/span>";
strVar += "        <div class=\"well pull-right\" id=\"testsuitegrid\">";
strVar += "            <div class=\"well pull-right\" id=\"testcasegrid\">";
strVar += "                 <div class=\"well pull-right\" id=\"realtestcasegrid\"><\/div>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" "+"onClick=\"createModalTestCase()\"" +" id=\"addTestCaseBttn\">Add a Test Case<\/button>";
strVar += "                <br\/>";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" "+"onClick=\"deleteTestCase()\"" +"id=\"deleteTestCaseBttn\">Delete Test Case<\/button>";
strVar += "                <br\/>";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" "+"onClick=\"updateModalTestCase()\"" +"id=\"updateTestCaseBttn\">Update Test Case<\/button>";
strVar += "                <br\/>";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" id=\"runTestCaseBttn\">Run a Test Case<\/button>";
strVar += "            <\/div>";
strVar += "";
strVar += "";
strVar += "            <div id=\"testsuitegridbttns\">";
strVar += "         <div style=\"position: absolute; top:80px; left:275px; width:200px; height:10px\">"+ajaxProjectName+"-"+ajax2TestSuiteName+"<\/div> ";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\""+"onClick=\"runTestSuite()\"" +" id=\"runTestSuiteBttn\">Run as Test Suite<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runProjectBttn\">Run as Project<\/button>";
strVar += "               <button type=\"button\" class=\"btn btn-lg btn-default\""+"onClick=\"createUpdateModalTestSuite()\"" +"id=\"updateTestSuiteBttn\">Update Test Suite<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\""+"onClick=\"deleteTestSuite("+ajaxTestSuiteName+"tests"+")\"" +"  id=\"deleteTestSuiteBttn\">Delete Test Suite<\/button>";
strVar += "            <\/div>";
strVar += "        <\/div>  ";

       
                document.getElementById("testsuitegrid").innerHTML = strVar;
            //  $("#testsuitegrid").add(strVar);
              document.getElementById("testsuitelabel").style.visibility = "visible";
              document.getElementById("testcasegrid").style.visibility = "visible";
               document.getElementById("testsuitegridbttns").style.visibility = "visible";
               
                           $.ajax({
                                        type: "POST",
                                        dataType: "JSON",
                                        url: "OnLoadTestCaseServlet",
                                        data: {
                                                   testSuiteInfo : JSON.stringify({ 
                                                        userName   :userName,
                                                        projectName : ajaxProjectName,
                                                        testSuiteName : ajaxTestSuiteName

                                                    })
                                               },
                                        success: function(data2) {

                                                values2 = data2;
                                                $.each(values2, function( index2, value2 ) {
                                                    
                                                    var form_elements2 = $("#modalTestCaseId").find(":input");
                                                    form_elements2[0].value = values2[index2]['testCaseName'];
                                                    var argumentToPass = form_elements2[0].value+"testcase";
                                                    $("#realtestcasegrid").prepend("<label onClick=\"currentTestCase("+argumentToPass+")\" id=\""+form_elements2[0].value+"testcase"+"\"style=\"margin-top:-300px;\" >"+form_elements2[0].value+" <\/label> <br\/>");
                                                        
                                                });
                                            }

                                    }); 
        
                      
          
 
            }
        </script>
        
        <script>
            function showProject(projectName) {  
                 var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
        var realProjectName = $(projectName).attr('id');  
        var strVar="";
strVar += "<span class=\"label pull-right\" style=\"color:black;\" id=\"testsuitelabel\">";
strVar += "        <\/span>";
strVar += "<div id=\"testsuitegridbttns\">";
strVar += "<div style=\"position: absolute; top:80px; left:275px; width:200px; height:10px\">"+realProjectName+"<\/div> ";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runTestSuiteBttn\">Run as Test Suite<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runProjectBttn\">Run as Project<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" "+"onClick=\"createUpdateModalProject()\"" +"id=\"updateProjectBttn\">Update Project<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" "+"onClick=\"deleteProject("+realProjectName+")\"" +" id=\"deleteProjectBttn\">Delete Project<\/button>";
strVar += "            <\/div>";
strVar += "        <\/div>    ";
                //document.getElementById("accordion").style.visibility = "visible";
               
       
                document.getElementById("testsuitegrid").style.visibility = "visible";
                document.getElementById("testsuitegrid").innerHTML = strVar;
               // document.getElementById("testsuitelabel").style.visibility = "visible";
        var form_elements = $("#modalProjectId").find(":input");        
        var realProjectName = $(projectName).attr('id'); 
        form_elements[0].value= realProjectName;
        
        if(updateProjectFlag > 3)
        {
            $.ajax({
                        type: "POST",
                        dataType: "JSON",
                        url: "OnLoadTestSuiteServlet",
                        data: {
                                   projectInfo : JSON.stringify({ 
                                        userName   :userName,
                                        projectName : realProjectName
                                        
                                    })
                               },
                        success: function(data1) {

                                values1 = data1;
                                $.each(values1, function( index1, value1 ) {
                                     var form_elements = $("#modalProjectId").find(":input");
                                    form_elements[0].value = realProjectName;
                                     var form_elements1 = $("#modalTestSuiteId").find(":input");
                                    form_elements1[0].value = values1[index1]['testSuiteName'];
                                     databaseErrorFlag = 1;
                                    createTestSuitePrompt();
                                     databaseErrorFlag = 5;


                                });
                            }

                    });
              updateProjectFlag = 1;
            }
        }
        </script>
        
        
        
             <script>
            function deleteTestSuite(testSuiteName) {  
            var form_elements = $("#modalProjectId").find(":input");
            var ajaxProjectName = form_elements[0].value;   
            var realTestSuiteName = $(testSuiteName).attr('id');
            var ajaxTestSuiteName = realTestSuiteName.substring(0,((realTestSuiteName.length)-5));
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1); 
 
              $("#"+realTestSuiteName).remove();
             // $("#"+realProjectName+"suites").remove();
            //  $("#"+realProjectName+"heading").remove();
        $.ajax({ 
                url : "DeleteTestSuite",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: ajaxProjectName ,
                        userName   :userName,
                        testSuiteName : ajaxTestSuiteName
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            });
                /*document.getElementById("testsuitegrid").innerHTML = "";
                document.getElementById("testsuitelabel").innerHTML = "";
                 document.getElementById("testsuitegrid").style.visibility = "hidden";
                 document.getElementById(projectName+"default").style.visibility = "hidden";*/
       //SHOW PROJECT YAPIYOZ BUNDAN SONRA
       var argumentToPass = ajaxProjectName + "suites";
        var strVar="";
strVar += "<span class=\"label pull-right\" style=\"color:black;\" id=\"testsuitelabel\">";
strVar += "        <\/span>";
strVar += "<div id=\"testsuitegridbttns\">";
strVar += "<div style=\"position: absolute; top:80px; left:275px; width:200px; height:10px\">"+ajaxProjectName+"<\/div> ";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runTestSuiteBttn\">Run as Test Suite<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runProjectBttn\">Run as Project<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" "+"onClick=\"createUpdateModalProject()\"" +"id=\"updateProjectBttn\">Update Project<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" "+"onClick=\"deleteProject("+argumentToPass+")\"" +" id=\"deleteProjectBttn\">Delete Project<\/button>";
strVar += "            <\/div>";
strVar += "        <\/div>    ";
                //document.getElementById("accordion").style.visibility = "visible";
               
       
                document.getElementById("testsuitegrid").style.visibility = "visible";
                document.getElementById("testsuitegrid").innerHTML = strVar;
               // document.getElementById("testsuitelabel").style.visibility = "visible";
        var form_elements = $("#modalProjectId").find(":input");        
        var realProjectName = $(projectName).attr('id'); 
        form_elements[0].value= realProjectName;
            
            }
        </script>    
        
        
            <script>
            function deleteProject(projectName) {  
            var realProjectName = $(projectName).attr('id');        
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
              $("#"+realProjectName+"default").remove();
              $("#"+realProjectName+"suites").remove();
              $("#"+realProjectName+"heading").remove();
        $.ajax({ 
                url : "DeleteProject",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: realProjectName ,
                        userName   :userName        
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            });
                document.getElementById("testsuitegrid").innerHTML = "";
                document.getElementById("testsuitelabel").innerHTML = "";
                 document.getElementById("testsuitegrid").style.visibility = "hidden";
                 document.getElementById(projectName+"default").style.visibility = "hidden";
            
            }
        </script>
        
        <script>
            function deleteTestCase() {  
        var form_elements = $("#modalTestSuiteId").find(":input");
        var testSuite = form_elements[0].value;
        var form_elements1 = $("#modalProjectId").find(":input");
        var ajaxProjectName = form_elements1[0].value;
        var form_elements2 = $("#modalTestCaseId").find(":input");
        var ajaxTestCaseName = form_elements2[0].value;
        
        //document.getElementById(ajaxTestCaseName+"testcase")
        $("#" + ajaxTestCaseName + "testcase").remove();
   
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
        $.ajax({ 
                url : "DeleteTestCase",
                data: {
                    testCaseInfo : JSON.stringify({ 
                        projectName: ajaxProjectName ,
                        userName   :userName ,
                        testSuiteName: testSuite,
                        testCaseName: ajaxTestCaseName
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            });
            showTestSuite(testSuite+"tests");    
            
            }
        </script>
        
         <script>
            function updateProject() {  
            updateProjectFlag = 1;
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            //var newProject = prompt("Please enter your new project name");
              var form_elements1 = $("#modalProjectId").find(":input");
              var oldProject = form_elements1[0].value;
              
              var form_elements2 = $("#modalUpdateProject").find(":input");
              var newProject = form_elements2[0].value;
              
      //  var realProjectName = $(projectName).attr('id');
      
              
          
            var argumentToPass = newProject + "suites";   
            var strVar="";
                strVar += " <div class=\"panel panel-default\" id=\""+newProject+"default\">";
                strVar += "                <div class=\"panel-heading\" id=\""+newProject+"heading\">";
                strVar += "                    <h4 class=\"panel-title\""+"onClick=\"showProject("+newProject+")\"" +" id=\""+newProject+"\">";
                strVar += "                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#"+newProject+"suites\">";
                strVar += "                            " + newProject;
                strVar += "                        <\/a>";
                strVar += "                    <\/h4>";
                strVar += "                <\/div>";
                strVar += "                <!-- Beginning of create a test suite-->";
                strVar += "                <div id=\""+newProject+"suites\" class=\"panel-collapse collapse\">";
                strVar += "                    <div class=\"panel-body\">";
                strVar += "                        <button type=\"button\""+ "onClick=\"createModalTestSuite()\"" +"class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
                strVar += "                    <\/div>";
                strVar += "                <\/div>";
                strVar += "                <!-- End of create a test suite-->";
                strVar += "            <\/div>";        
                
                var oldId = document.getElementById(oldProject +"default");
                oldId.innerHTML = strVar;
                oldId.id = newProject + "default";
       
             $.ajax({ 
                url : "UpdateProject",
                data: {
                    oldProjectInfo : JSON.stringify({ 
                        projectName: oldProject ,
                        userName   :userName        
                    }),
                    newProjectInfo : JSON.stringify({ 
                        projectName: newProject ,
                        userName   :userName        
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
               form_elements1[0].value = newProject;  // ESKI ID YI YENİ IDYE SETLİYORUz
               updateProjectFlag = 5;
               
            }
        </script>
        
        
        <script>
            function updateTestSuite() {  
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            //var newProject = prompt("Please enter your new project name");
              var form_elements1 = $("#modalProjectId").find(":input");
              var oldProject = form_elements1[0].value;
              
              var form_elements2 = $("#modalTestSuiteId").find(":input");
              var oldTestSuite = form_elements2[0].value;
              
              var form_elements3 = $("#modalUpdateTestSuite").find(":input");
              var newTestSuite = form_elements3[0].value;
     
      //  var realProjectName = $(projectName).attr('id');
          
            var argumentToPass = newTestSuite + "tests";   
            var strVar="";
            //strVar += " <div id=\""+testSuite+"\" class=\"panel-collapse collapse\">";
            strVar += "                    <div id=\""+newTestSuite+"tests"+"\""+"onClick=\"showTestSuite("+argumentToPass+")\"" +" class=\"panel-body\">";
            strVar += "                        <a href=\"#\" style=\"color:gray\">";
            strVar += "                            " + newTestSuite;
            strVar += "                        <\/a>";
            strVar += "                    <\/div>";
            //strVar += "                    <div class=\"panel-body\">";
            //strVar += "                        <button type=\"button\" class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
            //strVar += "                    <\/div>";
            //strVar += "                <\/div>";
        
        
        /*var strVar="";
                strVar += " <div class=\"panel panel-default\" id=\""+newProject+"default\">";
                strVar += "                <div class=\"panel-heading\" id=\""+newProject+"heading\">";
                strVar += "                    <h4 class=\"panel-title\""+"onClick=\"showProject("+newProject+")\"" +" id=\""+newProject+"\">";
                strVar += "                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#"+newProject+"suites\">";
                strVar += "                            " + newProject;
                strVar += "                        <\/a>";
                strVar += "                    <\/h4>";
                strVar += "                <\/div>";
                strVar += "                <!-- Beginning of create a test suite-->";
                strVar += "                <div id=\""+newProject+"suites\" class=\"panel-collapse collapse\">";
                strVar += "                    <div class=\"panel-body\">";
                strVar += "                        <button type=\"button\""+ "onClick=\"createTestSuitePrompt("+argumentToPass+")\"" +"class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
                strVar += "                    <\/div>";
                strVar += "                <\/div>";
                strVar += "                <!-- End of create a test suite-->";
                strVar += "            <\/div>";   */     
                
                var oldId = document.getElementById(oldTestSuite +"tests");
                oldId.outerHTML = strVar;
                oldId.id = newTestSuite + "tests";
             $.ajax({ 
                url : "UpdateTestSuite",
                data: {
                    oldTestSuiteInfo : JSON.stringify({ 
                        projectName: oldProject ,
                        userName   :userName ,
                        testSuiteName : oldTestSuite
                    }),
                    newTestSuiteInfo : JSON.stringify({ 
                        projectName: oldProject ,
                        userName   :userName ,
                        testSuiteName : newTestSuite
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
               form_elements2[0].value = newTestSuite;  // ESKI ID YI YENİ IDYE SETLİYORUz
            
                showTestSuite(newTestSuite + "tests");
            }
        </script>
        
        <script>
            function updateTestCase() {  
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
                  if(allURL.charAt(allURL.length-1) == '#')
                userName = allURL.substring(allURL.indexOf("=")+1,allURL.length-1);
            //var newProject = prompt("Please enter your new project name");
              var form_elements1 = $("#modalProjectId").find(":input");
              var project = form_elements1[0].value;
              
              var form_elements2 = $("#modalTestSuiteId").find(":input");
              var testSuite = form_elements2[0].value;
              
              var form_elements3 = $("#modalUpdateTestCase").find(":input");
              var newTestCase = form_elements3[0].value;
              
              var form_elements4 = $("#modalTestCaseId").find(":input");
              var oldTestCase = form_elements4[0].value;
     
              var oldLabelId = document.getElementById(oldTestCase+"testcase");
              oldLabelId.id = newTestCase+"testcase";
              oldLabelId.innerText = newTestCase;
              
             $.ajax({ 
                url : "UpdateTestCase",
                data: {
                    oldTestCaseInfo : JSON.stringify({ 
                        projectName: project ,
                        userName   :userName ,
                        testSuiteName : testSuite,
                        testCaseName : oldTestCase
                    }),
                    newTestCaseInfo : JSON.stringify({ 
                        projectName: project ,
                        userName   :userName ,
                        testSuiteName : testSuite,
                        testCaseName : newTestCase
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
              form_elements4[0].value = newTestCase;  // ESKI ID YI YENİ IDYE SETLİYORUZ
            }
        </script>
        
        <script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src = "js/bootstrap.js"></script>   
        <script src = "js/transition.js"></script>
        <script src = "js/collapse.js"></script>
    </body>
</html>