<!DOCTYPE html>
<html>
    <head>
        <title>Welcome to T2TF</title>
        <meta name= "viewport" content="width=device-width, initial-scale=1.0">
        <link href = "css/bootstrap.min.css" rel = "stylesheet">
        <link href = "css/homepage.css" rel="stylesheet">
  <!----------------------------------------SCRIPTS---------------------------------------------------------->   
        

 
        
            

        
<!--------------------------------------------------------------------------------------------------------------------------->
    </head>
    <body>
        <!--<applet id="app"
        code="T2TFProject.class" 
                >
        </applet>
        <applet id="app2"
        code="UserService.class" 
                >
        </applet>
        <!-- Beginning of navigation bar-->

        <div class = "navbar navbar-default navbar-static-top">
            <div class = "container">


                <button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
                    <span class = "icon-bar"></span>
                    <span class = "icon-bar"></span>
                    <span class = "icon-bar"></span>
                </button>

                <div class = "collapse navbar-collapse navHeaderCollapse">

                    <ul class = "nav navbar-nav navbar-left">
                        <li><a href="javascript:makeAccordionVisible(); ">Projects</a></li>
                    </ul>

                    <ul class = "nav navbar-nav navbar-right">

                        <li class = "active"><a href = "/Login/MainPageServlet">Home</a></li>
                        <li><a href = "#">About</a></li>
                        <li><a href = "#">Contact</a></li>
                        <li><a href = "/Login">Logout</a></li>
                    </ul>

                </div>

            </div>
        </div>

        <!-- End of navigation bar-->

        <!-- Beginning of accordion-->

        <div class="panel-group" id="accordion">


            <!-- Beginning of create a project -->
          <!--  <div class="panel panel-default">
               <!-- <div class="panel-heading">
                    <h4 class="panel-title" id="project1">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr1testsuites">
                            Project 1
                        </a>
                    </h4>
                </div>-->

                <!-- Beginning of create a test suite-->
                <!--<div id="pr1testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 2
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>-->
                <!-- End of create a test suite-->
            <!--</div>
            <!-- End of create a project-->
           <!-- <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title" id="project2">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr2testsuites">
                            Project 2
                        </a>
                    </h4>
                </div>
                <div id="pr2testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>
            </div>-->
            <!--<div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title" id="project3">
                        <a data-toggle="collapse" data-parent="#accordion" href="#pr3testsuites">Project 3</a>
                    </h4>
                </div>
                <div id="pr3testsuites" class="panel-collapse collapse">
                    <div class="panel-body">
                        <a href="#" style="color:gray">
                            Test Suite 1
                        </a>
                    </div>
                    <div class="panel-body">
                        <button type="button" class="btn pull-right btn-lg btn-default">Create Test Suite</button>
                    </div>
                </div>
            </div>-->
            
            
            <form method = "post" class="form-signin" id="createProject" onClick="createProjectPrompt()" role="form">
                <input type="submit" style="background-color:gray" class="btn btn-lg btn-primary btn-block" value="Create Project">  



            </form>
        </div>

        <!-- End of accordion-->

        <!-- Beginning of the Project and Test Suite Grid-->
        <span class="label pull-right" style="color:black;" id="testsuitelabel">
            Project X - Test Suite X
        </span>
        <div class="well pull-right" id="testsuitegrid">
            <div class="well pull-right" id="testcasegrid">
                <button type="button" class="btn btn-lg btn-default pull-right" id="addTestCaseBttn">Add a Test Case</button>
                <br/>
                <br/>
                <button type="button" class="btn btn-lg btn-default pull-right" id="deleteTestCaseBttn">Delete a Test Case</button>
                <br/>
                <br/>
                <button type="button" class="btn btn-lg btn-default pull-right" id="runTestCaseBttn">Run a Test Case</button>
            </div>


            <div id="testsuitegridbttns">
                <button type="button" class="btn btn-lg btn-default" id="runTestSuiteBttn">Run as Test Suite</button>
                <button type="button" class="btn btn-lg btn-default" id="runProjectBttn">Run as Project</button>
                <button type="button" class="btn btn-lg btn-default" id="deleteProjectBttn">Delete ProjectX</button>
            </div>
        </div>    

        <!-- End of the Project and Test Suite Grid-->
<script type="text/javascript">
            function makeAccordionVisible() {
                document.getElementById("accordion").style.visibility = "visible";
               // document.getElementById("testsuitegrid").style.visibility = "visible";
             //   document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>

    
     <script>
            function addProjectToAccordion(projectName) {
            var argumentToPass = projectName + "suites";   
            var strVar="";
                strVar += " <div class=\"panel panel-default\">";
                strVar += "                <div class=\"panel-heading\">";
                strVar += "                    <h4 class=\"panel-title\""+"onClick=\"showProject("+projectName+")\"" +" id=\""+projectName+"\">";
                strVar += "                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#"+projectName+"suites\">";
                strVar += "                            " + projectName;
                strVar += "                        <\/a>";
                strVar += "                    <\/h4>";
                strVar += "                <\/div>";
                strVar += "                <!-- Beginning of create a test suite-->";
                strVar += "                <div id=\""+projectName+"suites\" class=\"panel-collapse collapse\">";
                strVar += "                    <div class=\"panel-body\">";
                strVar += "                        <button type=\"button\""+ "onClick=\"createTestSuitePrompt("+argumentToPass+")\"" +"class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
                strVar += "                    <\/div>";
                strVar += "                <\/div>";
                strVar += "                <!-- End of create a test suite-->";
                strVar += "            <\/div>";        
                  //$('#accordion').append(strVar).accordion('destroy').accordion();
                   //var project = document.getElementById("project1");
                    $("#accordion").prepend(strVar);
                    
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);

            $.ajax({ 
                url : "CreateProject",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: projectName ,
                        userName   :userName
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log(data);
                }     
            }); 
         }
        </script>
        
        <script>
                function createTestSuitePrompt(projectName) {
         var testSuite = prompt("Please enter your test suite name");
         var realProjectName = $(projectName).attr('id');
         var ajaxProjectName = realProjectName.substring(0,((realProjectName.length)-6));
        
         if (testSuite != null) {
         var strVar="";
//strVar += " <div id=\""+testSuite+"\" class=\"panel-collapse collapse\">";
strVar += "                    <div id=\""+testSuite+"tests"+"\""+"onClick=\"showTestSuite("+testSuite+")\"" +" class=\"panel-body\">";
strVar += "                        <a href=\"#\" style=\"color:gray\">";
strVar += "                            " + testSuite;
strVar += "                        <\/a>";
strVar += "                    <\/div>";
//strVar += "                    <div class=\"panel-body\">";
//strVar += "                        <button type=\"button\" class=\"btn pull-right btn-lg btn-default\">Create Test Suite<\/button>";
//strVar += "                    <\/div>";
//strVar += "                <\/div>";
                
$(projectName).prepend(strVar);
   
            var allURL = window.location.toString();
            var userName = allURL.substring(allURL.indexOf("=")+1);
 

            $.ajax({ 
                url : "CreateTestSuite",
                data: {
                    projectInfo : JSON.stringify({ 
                        projectName: ajaxProjectName ,
                        userName   :userName     ,
                        testSuiteName : testSuite
                    })
                },
                dataType: 'json',
                type:'POST',
                cache : false ,
                success : function(data){
                    console.log("success ?");
                }     
            }); 
        
  
      
        
        }
            }
        </script>
        
        
        
        <script>
            function createProjectPrompt() {
                var project = prompt("Please enter your project name");

                if (project != null) {
                    document.getElementById("createProject").innerHTML =
                            document.getElementById("createProject").innerHTML;
                   addProjectToAccordion(project);
                }
            }
        </script>
        
          <script>
            function showTestSuite(testSuite) {
        console.log(testSuite);  
        var strVar="";
strVar += " <div class=\"well pull-right\" id=\"testcasegrid\">";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" id=\"addTestCaseBttn\">Add a Test Case<\/button>";
strVar += "                <br\/>";
strVar += "                <br\/>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" id=\"deleteTestCaseBttn\">Delete a Test Case<\/button>";
strVar += "                <br\/>";
strVar += "                <br\/>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default pull-right\" id=\"runTestCaseBttn\">Run a Test Case<\/button>";
strVar += "            <\/div>";

       
                //document.getElementById("testsuitegrid").style.visibility = "visible";
            //  $("#testsuitegrid").add(strVar);
             // document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script>
            function showProject(projectName) {
          var realProjectName = $(projectName).attr('id');        
        var strVar="";
strVar += "<span class=\"label pull-right\" style=\"color:black;\" id=\"testsuitelabel\">";
strVar += "        <\/span>";
strVar += "<div id=\"testsuitegridbttns\">";
strVar += "<div style=\"position: absolute; top:80px; left:275px; width:200px; height:10px\">"+realProjectName+"<\/div> ";

strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runTestSuiteBttn\">Run as Test Suite<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"runProjectBttn\">Run as Project<\/button>";
strVar += "                <button type=\"button\" class=\"btn btn-lg btn-default\" id=\"deleteProjectBttn\">Delete Project<\/button>";
strVar += "            <\/div>";
strVar += "        <\/div>    ";
                //document.getElementById("accordion").style.visibility = "visible";
               
       
                document.getElementById("testsuitegrid").style.visibility = "visible";
                document.getElementById("testsuitegrid").innerHTML = strVar;
               // document.getElementById("testsuitelabel").style.visibility = "visible";
            }
        </script>
        
        <script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src = "js/bootstrap.js"></script>   
        <script src = "js/transition.js"></script>
        <script src = "js/collapse.js"></script>
    </body>
</html>